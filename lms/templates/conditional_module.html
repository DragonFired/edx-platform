<%!
from django.urls import reverse
from django.utils.translation import ugettext as _
from openedx.core.djangolib.markup import Text
from six import text_type
%>

<%
def _message(reqm, message):
    ## xss-lint: disable=python-wrap-html
    return message.format(link="<a href={url}>{url_name}</a>".format(
        url = reverse('jump_to', kwargs=dict(course_id=text_type(reqm.course_id),
                        location=text_type(reqm.location))),
        url_name = reqm.display_name_with_default))
%>
% if message:
    % for reqm in module.required_modules:
        % if reqm:
            <p class="conditional-message">${_message(reqm, message)}</p>
        % else:
            <p class="conditional-message">
                ${Text(_("You do not have access to this dependency module."))}
            </p>
        % endif
    % endfor
% endif
